<!DOCTYPE html>
<html lang="es" xmlns="http://www.thymeleaf.org">
<head th:replace="/plantillas/principal :: head">
</head>
<body>
    <header th:replace="/plantillas/principal :: header"></header>
    
    <div class="container my-2">
        <div class="card">
            <div class="card-header" th:text="${titulo}"></div>
            <div class="card-body">
                <a th:href="@{/usuarios}" class="btn btn-secondary my-3 ">Volver</a>

                <form th:action="@{/usuarios/guardar}" th:object="${usuario}" method="POST">
                    <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label for="nombreUsuario" class="col-sm col-form-label">NOMBRE DE USUARIO</label>
                            <div class="col-sm  mb-3">
                                <input id="nombreUsuario" type="text" th:field="*{nombreUsuario}" class="form-control" 
                                th:attrappend="class=${alertDangerNombreUsuario}" placeholder="Ingrese un usuario" 
                                th:errorclass="'form-control alert-danger'">
                                <small class="form-text text-danger" th:if="${#fields.hasErrors('nombreUsuario')}" th:errors="*{nombreUsuario}"></small> 
                                <small class="form-text text-danger" th:if="${errorNombreUsuario}" th:text="${errorNombreUsuario}"></small>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="contraseña" class="col-sm col-form-label">CONTRASEÑA</label>
                            <div class="col-sm  mb-3">
                                <input id="contraseña" type="password" th:field="*{contraseña}" class="form-control" placeholder="Ingrese una contraseña" 
                                th:errorclass="'form-control alert-danger'">
                                <small class="form-text text-danger" th:if="${#fields.hasErrors('contraseña')}" th:errors="*{contraseña}"></small> 
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="nombreCompleto" class="col-sm col-form-label">NOMBRE COMPLETO</label>
                            <div class="col-sm  mb-3">
                                <input id="nombreCompleto" type="text" th:field="*{nombreCompleto}" class="form-control"  placeholder="Ingrese el nombre completo" th:errorclass="'form-control alert-danger'">
                                <small class="form-text text-danger" th:if="${#fields.hasErrors('nombreCompleto')}" th:errors="*{nombreCompleto}"></small>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="rol" class="col-sm col-form-label">ROL</label>
                            <div class="col-sm  mb-3">
                                <select name="rol" id="rol" th:field="*{rol}" >
                                    <option th:each="rol : ${roles}" th:value="${rol.id}" th:text="${#strings.equals(rol.authority, 'admin')} ? 'administrador' : 'usuario'"></option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="form-check ml-3">
                                <label for="habilitado" class="form-check-label">
                                    <input id="habilitado" th:field="*{habilitado}" type="checkbox" class="form-check-input" th:value="true">HABILITADO
                                </label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="fechaAlta" class="col-sm col-form-label">FECHA DE ALTA</label>
                            <div class="col-sm  mb-3">
                                <input id="fechaAlta" type="text" th:field="*{fechaAlta}" class="form-control"  placeholder="Ingrese una fecha" th:errorclass="'form-control alert-danger'">
                                <small class="form-text text-danger" th:if="${#fields.hasErrors('fechaAlta')}" th:errors="*{fechaAlta}"></small>
                            </div>
                        </div>
                        

                    </div>
                </div>
                    <div class="form-group row">
                        <div class="col-sm-6">
                            <input class="btn btn-success my-4" type="submit" value="Guardar">
                        </div>
                    </div>
                </form>
               
            </div>
        </div>
    </div>

   <!-- <footer th:replace="/plantillas/principal :: footer"></footer> -->
</body>
</html>